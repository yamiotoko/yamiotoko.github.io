<footer class="site-footer">
  <div class="container">
    <div class="footer-bottom">
      <div class="social-links">
        <!-- noteリンク -->
        <a href="https://note.com/{{ site.note_username }}" 
          target="_blank" 
          rel="noopener noreferrer"
          aria-label="note">
          <svg class="social-icon note-icon" viewBox="0 0 493 493" xmlns="http://www.w3.org/2000/svg">
            <path d="m139.57,142.06c41.19,0,97.6-2.09,138.1-1.04,54.34,1.39,74.76,25.06,75.45,83.53.69,33.06,0,127.73,0,127.73h-58.79c0-82.83.35-96.5,0-122.6-.69-22.97-7.25-33.92-24.9-36.01-18.69-2.09-71.07-.35-71.07-.35v158.96h-58.79v-210.22Z"/>
          </svg>
        </a>

        <!-- X (旧Twitter) リンク -->
        <a href="https://twitter.com/{{ site.twitter_username }}" 
          target="_blank" 
          rel="noopener noreferrer"
          aria-label="X (旧Twitter)">
          <svg class="social-icon x-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
          </svg>
        </a>

        <!-- YouTubeリンク -->
        <a href="https://www.youtube.com/channel/{{ site.youtube_userid }}" 
          target="_blank" 
          rel="noopener noreferrer"
          aria-label="YouTube">
          <svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
          </svg>
        </a>
      </div>

      <div class="footer-links">
        <a href="/privacy-policy">プライバシーポリシー</a>
      </div>

      <p>&copy; {{ 'now' | date: "%Y" }} 闇男</p>
    </div>
  </div>
</footer>


<script>
document.addEventListener('DOMContentLoaded', function() {
  const video = document.getElementById('bg-video');
  const videoBackground = document.querySelector('.video-background');
  
  // 動画再生を試みる関数
  function attemptPlay() {
    // 動画再生がサポートされているかチェック
    if (video && typeof video.play === 'function') {
      const playPromise = video.play();
      
      if (playPromise !== undefined) {
        playPromise
          .then(() => {
            console.log("動画再生に成功しました");
            video.classList.add('playing');
          })
          .catch(error => {
            console.log("動画再生がブロックされました:", error);
            activateFallback();
          });
      }
    } else {
      // 動画タグがサポートされていない環境
      activateFallback();
    }
  }

  // フォールバックを有効化する関数
  function activateFallback() {
    console.log("フォールバック画像を表示します");
    videoBackground.classList.add('fallback-active');
  }
  
  // 動画のメタデータが読み込まれたら再生を試みる
  if (video) {
    if (video.readyState >= 3) { // HAVE_FUTURE_DATA
      attemptPlay();
    } else {
      video.addEventListener('loadedmetadata', attemptPlay);
    }
    
    // 動画が再生できない場合のエラーハンドリング
    video.addEventListener('error', activateFallback);
  } else {
    // 動画要素がない場合はフォールバック
    activateFallback();
  }
});
</script>